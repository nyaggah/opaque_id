# Changelog

All notable changes to the OpaqueId gem will be documented in this file.

The format is based on [Keep a Changelog](https://keepachangelog.com/en/1.0.0/),
and this project adheres to [Semantic Versioning](https://semver.org/spec/v2.0.0.html).

## [1.3.0](https://github.com/nyaggah/opaque_id/compare/opaque_id/v1.2.0...opaque_id/v1.3.0) (2025-10-02)


### Features

* implement dynamic copyright year ([b86cea6](https://github.com/nyaggah/opaque_id/commit/b86cea66e60939377c6b0a67c1d385c9bf4bece3))
* improve documentation site theme and navigation ([304f845](https://github.com/nyaggah/opaque_id/commit/304f845a47397ea2a15f12d2c635144b39be431b))


### Bug Fixes

* add frozen string literal comment to docs/Gemfile ([2d653a7](https://github.com/nyaggah/opaque_id/commit/2d653a7bbc071e67e94e63ebc1602768b8d04456))
* configure just-the-docs theme for GitHub Pages compatibility ([c2fb96c](https://github.com/nyaggah/opaque_id/commit/c2fb96c46e99fd5287520e01c3bc2dd7bd5d4817))
* resolve CSS linting warnings ([d01e8c0](https://github.com/nyaggah/opaque_id/commit/d01e8c05628b7f2bd8b39a13325112168cf4e689))
* update deprecated platform specifications in docs/Gemfile ([cf96134](https://github.com/nyaggah/opaque_id/commit/cf9613499150dd7152bff38aa8f8fe7ab9923eb5))


### Documentation

* implement comprehensive documentation site with dark theme ([19cc9e3](https://github.com/nyaggah/opaque_id/commit/19cc9e30c584658559c5404a4518e871039cc223))
* implement comprehensive documentation site with dark theme ([a249c6a](https://github.com/nyaggah/opaque_id/commit/a249c6ad2253439f0d070620a914ff87597cf7cb))


### Miscellaneous Chores

* configure just-the-docs theme ([3dfcac8](https://github.com/nyaggah/opaque_id/commit/3dfcac88099e65e61931e558e9242050bdbf0bc9))
* update Gemfile.lock after dependency check ([058281f](https://github.com/nyaggah/opaque_id/commit/058281f6e07f3c9a1057c6fbeb0200bccf221558))

## [1.2.0](https://github.com/nyaggah/opaque_id/compare/opaque_id/v1.1.0...opaque_id/v1.2.0) (2025-10-02)


### Features

* improve generator API and add custom column configuration ([5c1a570](https://github.com/nyaggah/opaque_id/commit/5c1a5703dee269f6985d26096942c086787296f3))


### Styles

* improve code formatting in generator ([ce52021](https://github.com/nyaggah/opaque_id/commit/ce52021cd60e3594dc1ee34e5b96d48568008b5a))


### Code Refactoring

* improve generator code quality and resolve RuboCop issues ([b658bbc](https://github.com/nyaggah/opaque_id/commit/b658bbcb29f6c0134f2bf256b24c5b3c2bccb265))


### Tests

* add test for lowercase model names ([8ef4675](https://github.com/nyaggah/opaque_id/commit/8ef4675a0698d2cda054084360c9e80d956ddb14))

## [1.1.0](https://github.com/nyaggah/opaque_id/compare/opaque_id-v1.0.2...opaque_id/v1.1.0) (2025-10-02)


### Features

* initial release of OpaqueId gem v0.1.0 ([3a90274](https://github.com/nyaggah/opaque_id/commit/3a9027403552f8160e3aaf413d1e99ce8c63bbe4))


### Bug Fixes

* add Release Please manifest and update workflow configuration ([f33ce6c](https://github.com/nyaggah/opaque_id/commit/f33ce6c96805b6c670cd1eedf5ebed2a46e8ffa6))
* add required permissions for Release Please job ([cdf8d2b](https://github.com/nyaggah/opaque_id/commit/cdf8d2bfc5dbea9a9ec40411a988191ba91913fa))
* improve publish workflow trigger reliability ([9c6e240](https://github.com/nyaggah/opaque_id/commit/9c6e2402474d8ecf8a3f754a9f2ca149a63bf1d1))
* improve statistical test reliability for CI ([c9b0d52](https://github.com/nyaggah/opaque_id/commit/c9b0d52fb4e9559aad489fcf58bdff1917d613a6))
* remove unsupported Release Please configuration parameters ([e3b0d2a](https://github.com/nyaggah/opaque_id/commit/e3b0d2ac96b905316a78992004fae83423991632))
* resolve dependency version conflicts and improve test robustness ([af43e13](https://github.com/nyaggah/opaque_id/commit/af43e13393a452f11ce32bafb26a267d1460736c))


### Miscellaneous Chores

* **main:** release 1.0.0 ([43282c5](https://github.com/nyaggah/opaque_id/commit/43282c5865aae3f136c9eaa49f013066a2359826))
* **main:** release 1.0.0 ([b8271ad](https://github.com/nyaggah/opaque_id/commit/b8271ad43cf6fab4687276258f0105c06a87bff7))
* **main:** release 1.0.1 ([4ee2e2c](https://github.com/nyaggah/opaque_id/commit/4ee2e2c69905e71d6c5048617af09b65cbb9e12a))
* **main:** release 1.0.1 ([e6cd2f8](https://github.com/nyaggah/opaque_id/commit/e6cd2f8f8ff545ad3010598488f71956e36a88c5))
* **main:** release 1.0.2 ([d5c7423](https://github.com/nyaggah/opaque_id/commit/d5c7423cf06ae7638d95cdd29b2631049efed727))
* **main:** release 1.0.2 ([365dff8](https://github.com/nyaggah/opaque_id/commit/365dff87a044aa967906866d6ace8d1ccad08c78))
* sync version to 1.0.2 ([2f870c8](https://github.com/nyaggah/opaque_id/commit/2f870c89d486f0a5cda8ef37e5544c29c8fa2919))
* update author name and GitHub URLs ([e911548](https://github.com/nyaggah/opaque_id/commit/e911548e89e1e60ac3281157059f7c7b812750bd))
* update bundle and add Linux platform support ([661842f](https://github.com/nyaggah/opaque_id/commit/661842f0ba66ce36962bb11f75a1b0e35eb5a3e7))


### Code Refactoring

* integrate Release Please into main CI workflow ([8a0b189](https://github.com/nyaggah/opaque_id/commit/8a0b189a8bfbfcc07275c9bdda3397ff367b2054))

## [1.0.2](https://github.com/nyaggah/opaque_id/compare/v1.0.1...v1.0.2) (2025-10-02)


### Bug Fixes

* remove unsupported Release Please configuration parameters ([e3b0d2a](https://github.com/nyaggah/opaque_id/commit/e3b0d2ac96b905316a78992004fae83423991632))

## [1.0.1](https://github.com/nyaggah/opaque_id/compare/v1.0.0...v1.0.1) (2025-10-02)


### Bug Fixes

* improve publish workflow trigger reliability ([9c6e240](https://github.com/nyaggah/opaque_id/commit/9c6e2402474d8ecf8a3f754a9f2ca149a63bf1d1))
* improve statistical test reliability for CI ([c9b0d52](https://github.com/nyaggah/opaque_id/commit/c9b0d52fb4e9559aad489fcf58bdff1917d613a6))

## 1.0.0 (2025-10-02)


### Features

* initial release of OpaqueId gem v0.1.0 ([3a90274](https://github.com/nyaggah/opaque_id/commit/3a9027403552f8160e3aaf413d1e99ce8c63bbe4))


### Bug Fixes

* resolve dependency version conflicts and improve test robustness ([af43e13](https://github.com/nyaggah/opaque_id/commit/af43e13393a452f11ce32bafb26a267d1460736c))

## [Unreleased]

### Added

- Nothing yet

### Changed

- Nothing yet

### Deprecated

- Nothing yet

### Removed

- Nothing yet

### Fixed

- Nothing yet

### Security

- Nothing yet

## [0.1.0] - 2025-01-XX

### Added

- **Core ID Generation**: Secure, collision-free ID generation using Ruby's `SecureRandom`
- **Fast Path Algorithm**: Optimized bitwise operations for 64-character alphabets
- **Unbiased Path Algorithm**: Rejection sampling for other alphabet sizes to eliminate modulo bias
- **ActiveRecord Integration**: `OpaqueId::Model` concern for automatic ID generation
- **Rails Generator**: `opaque_id:install` generator for easy setup
- **Built-in Alphabets**: `ALPHANUMERIC_ALPHABET` (62 chars) and `STANDARD_ALPHABET` (64 chars)
- **Configuration Options**: Customizable ID length, alphabet, letter start requirement, character purging
- **Finder Methods**: `find_by_opaque_id` and `find_by_opaque_id!` for model lookups
- **Collision Handling**: Automatic retry with configurable max attempts
- **Error Classes**: `OpaqueId::Error`, `OpaqueId::ConfigurationError`, `OpaqueId::GenerationError`
- **Comprehensive Test Suite**: Minitest-based tests covering core functionality, ActiveRecord integration, and generators
- **Performance Benchmarks**: Statistical uniformity tests and performance measurements
- **Security Features**: Cryptographically secure random generation, unbiased distribution
- **Documentation**: Complete README with usage examples, security considerations, and use cases

### Technical Details

- **Ruby Compatibility**: Requires Ruby 3.2.0 or higher
- **Rails Compatibility**: Requires Rails 8.0 or higher
- **Dependencies**: ActiveRecord, ActiveSupport
- **Performance**: ~2.5M IDs/sec for 64-character alphabets, ~1.2M IDs/sec for other alphabets
- **Collision Resistance**: 2^126 possible combinations for 21-character STANDARD_ALPHABET IDs
- **Memory Usage**: ~21 bytes per ID, consistent across all algorithms

### Security

- Uses Ruby's `SecureRandom` for cryptographically secure entropy
- Implements rejection sampling to eliminate modulo bias
- Provides non-sequential, unpredictable IDs
- Includes comprehensive security guidelines and best practices
- Supports configurable ID lengths for different security requirements

### Documentation

- Complete installation and setup instructions
- Detailed usage examples for standalone and ActiveRecord integration
- Comprehensive configuration options documentation
- Security considerations and threat model analysis
- Real-world use case examples (e-commerce, APIs, CMS, etc.)
- Performance benchmarks and optimization tips
- Development and contribution guidelines
- MIT License with full legal details

### Testing

- **Core Module Tests**: ID generation, error handling, edge cases
- **ActiveRecord Integration Tests**: Model callbacks, finder methods, configuration
- **Generator Tests**: Migration generation, model modification
- **Performance Tests**: Statistical uniformity validation
- **Error Handling Tests**: Invalid inputs, collision scenarios
- **RuboCop Integration**: Code quality and style enforcement

### Generator Features

- **Migration Generation**: Creates `opaque_id` column with unique index
- **Model Modification**: Automatically adds `include OpaqueId::Model`
- **Customizable Options**: Column name, alphabet, length configuration
- **Error Handling**: Graceful handling of missing models or invalid arguments
- **Console Output**: Color-coded success and error messages

### Breaking Changes

- None (initial release)

### Migration Notes

- This is the initial release of OpaqueId
- No migration from previous versions required
- Compatible with Rails 8.0+ applications
- Requires Ruby 3.2.0 or higher
